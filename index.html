<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message Sender</title>
</head>
<body>
    <h1>RockBlock Test Message Sender</h1>

    <!-- Input field for message -->
    <input type="text" id="messageInput" placeholder="Enter message">
    <button onclick="sendMessage()">Send Message</button>
    
    <!-- Message confirmation -->
    <p id="statusMessage"></p>

    <script>
        const baseURL = 'https://simulation-hello-world-2025.onrender.com'; // Update this if needed

        async function sendMessage() {
            const message = document.getElementById("messageInput").value;
            const imei = "300434065264590";  // Simulated IMEI
            
            if (!message) {
                alert("Please enter a message before sending.");
                return;
            }

            try {
                const response = await fetch(`${baseURL}/rockblock?imei=${imei}&data=${encodeURIComponent(message)}`, {
                    method: "POST"
                });

                const text = await response.text();
                console.log("Server Response:", text);

                if (response.ok) {
                    document.getElementById("statusMessage").textContent = "✅ Message Sent!";
                } else {
                    document.getElementById("statusMessage").textContent = "❌ Failed to send message.";
                }
            } catch (error) {
                console.error("Error sending message:", error);
                document.getElementById("statusMessage").textContent = "❌ Error contacting server.";
            }
        }
    </script>
</body>
</html>







